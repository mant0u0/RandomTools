<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>饅頭隨機小工具 - 3D骰子、硬幣、扭蛋機 | Mantou Random Tools</title>
    <meta
      name="description"
      content="饅頭隨機小工具集合，提供3D物理效果的硬幣翻轉、骰子投擲、扭蛋機抽獎等趣味工具。免費線上使用，適合決策、遊戲、抽獎使用。"
    />
    <meta
      name="keywords"
      content="隨機工具,3D骰子,硬幣翻轉,扭蛋機,抽獎工具,決策工具,線上工具,饅頭工具"
    />

    <!-- Open Graph -->
    <meta property="og:title" content="饅頭隨機小工具 - 3D骰子、硬幣、扭蛋機" />
    <meta
      property="og:description"
      content="提供3D物理效果的隨機工具，包含硬幣翻轉、骰子投擲、扭蛋機抽獎等功能"
    />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Mantou Random Tools" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>

  <body>
    <body>
      <script type="importmap">
        {
          "imports": {
            "three": "https://esm.sh/three@0.160.0",
            "three/addons/": "https://esm.sh/three@0.160.0/examples/jsm/",
            "cannon-es": "https://esm.sh/cannon-es@0.20.0"
          }
        }
      </script>

      <div class="hint">CLICK BALL TO OPEN</div>

      <!-- 空狀態提示 -->
      <div id="empty-message">
        <h2>扭蛋機已經空了</h2>
        <p>點擊編輯按鈕來新增獎項</p>
      </div>

      <!-- 左上角 返回 -->
      <div class="top-left-controls">
        <a class="back-btn" href="../index.html" title="返回"
          ><i class="fas fa-angle-left"></i>返回</a
        >
      </div>

      <!-- 左下角 RESET -->
      <div class="bottom-left-controls">
        <button class="circle-btn restart" id="btn-main-restart">重來</button>
      </div>

      <!-- 右下角 按鈕區 -->
      <div class="bottom-right-controls">
        <button class="circle-btn" id="btn-open-edit">編輯</button>
        <button class="circle-btn mix" id="btn-shuffle">搖動</button>
        <button class="circle-btn pick" id="btn-random-pick">抽獎</button>
      </div>

      <!-- 編輯視窗 -->
      <div class="modal-overlay" id="edit-modal">
        <div class="modal-content large">
          <div class="tabs-header">
            <button class="tab-btn active" data-tab="status">扭蛋獎項</button>
            <button class="tab-btn" data-tab="input">編輯獎項</button>
          </div>

          <div class="tabs-body">
            <!-- Status Tab -->
            <div class="tab-pane active" id="tab-status">
              <div class="input-hint">
                <i class="fas fa-gift"></i>點選項目可以移除獎項或恢復獎項
              </div>
              <ul class="item-list" id="status-list"></ul>
            </div>

            <!-- Input Tab -->
            <div class="tab-pane" id="tab-input">
              <div class="input-hint">
                輸入「獎項名稱」或是「獎項名稱 * 數量」
              </div>
              <textarea id="input-textarea" spellcheck="false">
饅頭 * 2
肉包 * 2
菜包
豆漿
蛋餅 * 3</textarea
              >
              <label class="checkbox-wrapper">
                <input type="checkbox" id="check-remove" checked />
                抽出的獎項將從扭蛋機中移除
              </label>
            </div>
          </div>

          <div class="modal-footer">
            <button class="action-btn btn-close" id="btn-modal-close">
              關閉
            </button>
            <button class="action-btn btn-restart" id="btn-modal-restart">
              更新
            </button>
          </div>
        </div>
      </div>

      <!-- Reset 確認視窗 -->
      <div class="modal-overlay" id="reset-modal">
        <div class="modal-content small">
          <h3>想要重來嗎？</h3>
          <div class="modal-footer" style="border: none; padding: 0">
            <button class="action-btn btn-no" id="btn-reset-cancel">
              取消
            </button>
            <button class="action-btn btn-yes" id="btn-reset-confirm">
              重來
            </button>
          </div>
        </div>
      </div>

      <!-- 結果視窗 -->
      <div id="result-overlay">
        <div class="sphere-wrapper">
          <div class="sphere-display" id="result-icon"></div>
        </div>
        <div id="result-text">RESULT</div>
        <button class="close-result-btn" id="btn-close-result">好耶</button>
      </div>
    </body>
    <script type="module" src="./script.js"></script>
  </body>
</html>
